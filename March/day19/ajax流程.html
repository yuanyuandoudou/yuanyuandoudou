<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        .box{
            height: 300px;
            width: 600px;
            border: 1px solid red;
        }
    </style>
</head>
<body>
    <button>获取数据</button>
    <div class="box"></div>
<script>
    var btn = document.querySelector('button')
    var box = document.querySelector('.box')
    btn.onclick=function(){
    // 1.打开浏览器,发送请求  创建 XMLHttpRequest 对象
var xhr = new XMLHttpRequest()
    // 2.向地址栏输入地址  使用 xhr.open(请求方式，请求的链接地址，是否异步) 打开一个链接地址
    // 参数 1:请求方式 get/post  2: 请求地址  3: 同步还是异步 true 异步
xhr.open('get','./user.json',true)
    // 3.回车提交  使用xhr.send()发送请求    
        xhr.send()
    // 4.等待服务器返回数据,并且接收  
        xhr.onreadystatechange=function(){
            console.log(xhr.readyState) 
            console.log(xhr.status)//服务器响应码 200代表成功返回数据  304 代表缓存
            if(xhr.readyState == 4){
                //xhr.responseText 从服务器返回的数据
                console.log(xhr.responseText)
                var data = JSON.parse(xhr.responseText)
    // 5.渲染到页面上
                box.innerHTML = `用户名：${data.name}|${data.id}`
            }
        }

    }

// xhr.onreadystatechange = function(){
// 	if(xhr.readyState == 4){
// 		var data = xhr.requestText;
// 	}
// }
</script>
</body>
</html>